<!DOCTYPE html>
<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Lexend' rel='stylesheet'>
        <link rel="stylesheet" href="logins.css"/>
        <link rel="stylesheet" href="root.css"/>
        <script type = "module" src="Backend/frontlogin.js"></script>
        <script src="https://unpkg.com/aws-amplify@3.3.26/dist/aws-amplify.min.js"></script>
        <script>
            
            // const loginService = require('./service/login'); // connection to 
            // const Amplify = require('aws-amplify');
            Amplify.configure({
                Auth:{
                    cognito: {
                        userPoolId: 'us-west-1_p8Yc1jkno',
                        userPoolClientId: '	70fja60algpc90okhqoru49592', // e.g. 25ddkmj4v6hfsfvruhpfi7n4hv
                        region: 'us-west-1' // e.g. us-east-2
                    },
                    api: {
                        invokeUrl: '' // e.g. https://rc7nyt4tql.execute-api.us-west-2.amazonaws.com/prod',
                    }
                }

            });

            document.querySelector(".login-send"). // connecting to login button
            addEventListener("click", async() => { //pulling information on click
                const username = document.getElementById("username").value;
                const password = document.getElementById("password").value;
                const user = { //getting userinfo from 
                    "username": username,
                    "password": password
                }

                // const loginBody = JSON.parse(user);
                // response = loginService.login(loginBody);

                // console.log(user)
                // const loginRequest = new XMLHttpRequest();
                // request.open('POST', '/login', true)
                // console.log(opened)
                // request.setRequestHeader('Content-Type', 'application/json')

                // request.send(JSON.stringify(user));        
                try {
                    await Amplify.Auth.confirmSignUp(username, password);
                    console.log("Confirmation successful");
                    // Redirect to a different page or perform other actions
                } catch (error) {
                    console.log("Confirmation error:", error);
                    // Handle confirmation error, display error message to the user
                }
                

            });



        </script>
    </head>
    <body>
        <!-- <div id="topbar">
          <img id="logo" src="Logo.svg" alt="Logo" onclick="location.href='index.html'">
          Add search bar
          <input type="search" class="search-bar" placeholder="Search..">
          <button class="button login-button">Log in</button>
          <button class="button signup-button">Sign up</button>
        </div> -->
        <div class = "box center signup-container">
            <div class="input-group-new">
                <label>Username</label>
                <input type="text" id="username" class="username login-input"
                placeholder="Enter Your Username">
            </div>
            <div class="input-group-new">
                <label>Password</label>
                <input type="text" id="password" class="password login-input"
                placeholder="Enter Your Password ">
            <!-- Copy Paste sections to add more -->
            </div>
        <button class="button login-send">Log in</button>
        <div class="signup-options">
            <button>Sign in with facebook placeholder</button>
        </div>
        <div class="signup-options">
            <button>Sign in with google placeholder</button>
        </div>
        
        <script src="Backend/config.js"></script>

    </body>
</html>